CREATE TABLE ChatRooms (
    	RoomID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY 
	(START WITH 0 INCREMENT BY 1) PRIMARY KEY,
    	RoomName VARCHAR2(100) NOT NULL,
    	ClientID NUMBER NOT NULL, -- Client who created the room
    	CONSTRAINT fkChatRooms_ClientId FOREIGN KEY (ClientId) REFERENCES CLIENTS(Id),
	CONSTRAINT fkChatRooms_EmployeeId FOREIGN KEY (EmployeeId) REFERENCES EMPLOYEES(Id)
);

CREATE TABLE ChatMessages (
    MessageID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY 
	(START WITH 0 INCREMENT BY 1) PRIMARY KEY,
    ClientID NUMBER NOT NULL, -- Client who sent the message
    RoomID NUMBER NOT NULL, -- Chat room where the message was sent
    Timestamp TIMESTAMP NOT NULL,
    MessageText CLOB NOT NULL,
    CONSTRAINT fkChatMessages_ClientID FOREIGN KEY (ClientId) REFERENCES CLIENTS(UserID),
    CONSTRAINT fkChatMessages_RoomID FOREIGN KEY (RoomID) REFERENCES ChatRooms(RoomID)
);
